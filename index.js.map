{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = \"51385266-59a206174458b904205f7b7fa\";\n\nexport function getImagesByQuery(query) {\n    return axios('https://pixabay.com/api/', {\n        params: {\n            key: API_KEY,\n            q: query,\n            image_type: \"photo\",\n            orientation: \"horizontal\",\n            safesearch: true,\n            \n        }\n    })\n        .then(res => res.data.hits)\n        .catch(error => {\n            console.log(error.message);\n        })\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox = null;\nconst gallery = document.querySelector(\".gallery\");\nconst loader = document.querySelector(\".loader\");\n\nexport function createMarkup(arr) {\n  return arr.map(({ webformatURL, largeImageURL, tags, likes, views, comments, downloads }) => {\n    return `\n      <div class=\"wrap\">\n        <a class=\"gallery-item\" href=\"${largeImageURL}\">\n          <img class=\"img\" src=\"${webformatURL}\" alt=\"${tags}\" width=\"360px\">\n        </a>\n        <ul class=\"list\">\n          <li class=\"list-item\"><p class=\"label\">Likes</p><p class=\"value\">${likes}</p></li>\n          <li class=\"list-item\"><p class=\"label\">Views</p><p class=\"value\">${views}</p></li>\n          <li class=\"list-item\"><p class=\"label\">Comments</p><p class=\"value\">${comments}</p></li>\n          <li class=\"list-item\"><p class=\"label\">Downloads</p><p class=\"value\">${downloads}</p></li>\n        </ul>\n      </div>\n    `;\n  }).join(\"\");\n}\n\nexport function renderGallery(images) {\n  gallery.innerHTML = createMarkup(images);\n\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captionDelay: 250,\n    });\n  } else {\n    lightbox.refresh();\n  }\n}\n\nexport function clearGallery() {\n  gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n  loader.classList.remove(\"hidden\");\n}\n\nexport function hideLoader() {\n  loader.classList.add(\"hidden\");\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n  renderGallery,\n  clearGallery,\n  showLoader,\n  hideLoader\n} from './js/render-functions';\n\nconst form = document.querySelector(\".form\");\n\nform.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n  const userInput = event.target.elements[\"search-text\"].value.trim();\n\n  if (userInput === \"\") {\n    iziToast.warning({\n      message: 'Unfortunately you cannot leave the input blank',\n      position: 'topRight',\n      messageColor: '#fff',\n      titleColor: '#fff',\n      color: '#ef4040',\n      iconUrl: './img/bi_x-octagon-2.svg',\n      maxWidth: 432\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(userInput)\n    .then(res => {\n      if (!res || res.length === 0) {\n        iziToast.show({\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          messageColor: '#fff',\n          titleColor: '#fff',\n          color: '#ef4040',\n          iconUrl: './img/bi_x-octagon-2.svg',\n          maxWidth: 432\n        });\n        return;\n      }\n\n      renderGallery(res);\n      form.reset();\n    })\n    .catch(() => {\n      iziToast.show({\n        message: 'Sorry, something went wrong. Please try again!',\n        position: 'topRight',\n        messageColor: '#fff',\n        titleColor: '#fff',\n        color: '#ef4040',\n        iconUrl: './img/bi_x-octagon-2.svg',\n        maxWidth: 432\n      });\n    })\n    .finally(() => {\n      hideLoader();\n    });\n}"],"names":["API_KEY","getImagesByQuery","query","axios","res","error","lightbox","gallery","loader","createMarkup","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","renderGallery","images","SimpleLightbox","clearGallery","showLoader","hideLoader","form","handleSubmit","event","userInput","iziToast"],"mappings":"owBAEA,MAAMA,EAAU,qCAET,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAM,2BAA4B,CACrC,OAAQ,CACJ,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAEf,CACT,CAAK,EACI,KAAKE,GAAOA,EAAI,KAAK,IAAI,EACzB,MAAMC,GAAS,CACZ,QAAQ,IAAIA,EAAM,OAAO,CACrC,CAAS,CACT,CChBA,IAAIC,EAAW,KACf,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAaC,EAAK,CAChC,OAAOA,EAAI,IAAI,CAAC,CAAE,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,IAC7E;AAAA;AAAA,wCAE6BL,CAAa;AAAA,kCACnBD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,6EAGiBC,CAAK;AAAA,6EACLC,CAAK;AAAA,gFACFC,CAAQ;AAAA,iFACPC,CAAS;AAAA;AAAA;AAAA,KAIvF,EAAE,KAAK,EAAE,CACZ,CAEO,SAASC,EAAcC,EAAQ,CACpCZ,EAAQ,UAAYE,EAAaU,CAAM,EAElCb,EAMHA,EAAS,QAAO,EALhBA,EAAW,IAAIc,EAAe,aAAc,CAC1C,aAAc,MACd,aAAc,GACpB,CAAK,CAIL,CAEO,SAASC,GAAe,CAC7Bd,EAAQ,UAAY,EACtB,CAEO,SAASe,GAAa,CAC3Bd,EAAO,UAAU,OAAO,QAAQ,CAClC,CAEO,SAASe,GAAa,CAC3Bf,EAAO,UAAU,IAAI,QAAQ,CAC/B,CCrCA,MAAMgB,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASA,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EACpB,MAAMC,EAAYD,EAAM,OAAO,SAAS,aAAa,EAAE,MAAM,OAE7D,GAAIC,IAAc,GAAI,CACpBC,EAAS,QAAQ,CACf,QAAS,iDACT,SAAU,WACV,aAAc,OACd,WAAY,OACZ,MAAO,UACP,QAAS,2BACT,SAAU,GAChB,CAAK,EACD,MACD,CAEDP,IACAC,IAEArB,EAAiB0B,CAAS,EACvB,KAAKvB,GAAO,CACX,GAAI,CAACA,GAAOA,EAAI,SAAW,EAAG,CAC5BwB,EAAS,KAAK,CACZ,QAAS,2EACT,SAAU,WACV,aAAc,OACd,WAAY,OACZ,MAAO,UACP,QAAS,2BACT,SAAU,GACpB,CAAS,EACD,MACD,CAEDV,EAAcd,CAAG,EACjBoB,EAAK,MAAK,CAChB,CAAK,EACA,MAAM,IAAM,CACXI,EAAS,KAAK,CACZ,QAAS,iDACT,SAAU,WACV,aAAc,OACd,WAAY,OACZ,MAAO,UACP,QAAS,2BACT,SAAU,GAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAM,CACbL,GACN,CAAK,CACL"}